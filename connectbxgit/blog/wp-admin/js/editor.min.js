window.wp=window.wp||{},function(e,t){t.editor=t.editor||{},window.switchEditors=new function(){function n(){!d&&window.tinymce&&(d=window.tinymce,(l=d.$)(document).on("click",function(e){var t=l(e.target);t.hasClass("wp-switch-editor")&&r(t.attr("data-wp-editor-id"),t.hasClass("switch-tmce")?"tmce":"html")}))}function i(e){var t=l(".mce-toolbar-grp",e.getContainer())[0],n=t&&t.clientHeight;return n&&n>10&&n<200?parseInt(n,10):30}function r(e,t){e=e||"content",t=t||"toggle";var n,r,a=d.get(e),p=l("#wp-"+e+"-wrap"),c=l("#"+e),o=c[0];if("toggle"===t&&(t=a&&!a.isHidden()?"html":"tmce"),"tmce"===t||"tinymce"===t){if(a&&!a.isHidden())return!1;void 0!==window.QTags&&window.QTags.closeAllTags(e),n=parseInt(o.style.height,10)||0,a?(a.show(),!d.Env.iOS&&n&&(n=n-i(a)+14)>50&&n<5e3&&a.theme.resizeTo(null,n)):d.init(window.tinyMCEPreInit.mceInit[e]),p.removeClass("html-active").addClass("tmce-active"),c.attr("aria-hidden",!0),window.setUserSetting("editor","tinymce")}else if("html"===t){if(a&&a.isHidden())return!1;a?(d.Env.iOS||(n=(r=a.iframeElement)?parseInt(r.style.height,10):0)&&(n=n+i(a)-14)>50&&n<5e3&&(o.style.height=n+"px"),a.hide()):c.css({display:"",visibility:""}),p.removeClass("tmce-active").addClass("html-active"),c.attr("aria-hidden",!1),window.setUserSetting("editor","html")}}function a(e){var t="blockquote|ul|ol|li|dl|dt|dd|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset|figure",n=t+"|div|p",i=t+"|pre",r=!1,a=!1,p=[];return e?(-1===e.indexOf("<script")&&-1===e.indexOf("<style")||(e=e.replace(/<(script|style)[^>]*>[\s\S]*?<\/\1>/g,function(e){return p.push(e),"<wp-preserve>"})),-1!==e.indexOf("<pre")&&(r=!0,e=e.replace(/<pre[^>]*>[\s\S]+?<\/pre>/g,function(e){return e=e.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>"),(e=e.replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/\r?\n/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(a=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})),e=e.replace(new RegExp("\\s*</("+n+")>\\s*","g"),"</$1>\n"),e=e.replace(new RegExp("\\s*<((?:"+n+")(?: [^>]*)?)>","g"),"\n<$1>"),e=e.replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>"),e=e.replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n"),e=e.replace(/\s*<p>/gi,""),e=e.replace(/\s*<\/p>\s*/gi,"\n\n"),e=e.replace(/\n[\s\u00a0]+\n/g,"\n\n"),e=e.replace(/(\s*)<br ?\/?>\s*/gi,function(e,t){return t&&-1!==t.indexOf("\n")?"\n\n":"\n"}),e=e.replace(/\s*<div/g,"\n<div"),e=e.replace(/<\/div>\s*/g,"</div>\n"),e=e.replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n"),e=e.replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption"),e=e.replace(new RegExp("\\s*<((?:"+i+")(?: [^>]*)?)\\s*>","g"),"\n<$1>"),e=e.replace(new RegExp("\\s*</("+i+")>\\s*","g"),"</$1>\n"),-1!==(e=e.replace(/<((li|dt|dd)[^>]*)>/g," \t<$1>")).indexOf("<option")&&(e=(e=e.replace(/\s*<option/g,"\n<option")).replace(/\s*<\/select>/g,"\n</select>")),-1!==e.indexOf("<hr")&&(e=e.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")),-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")})),e=e.replace(/<\/p#>/g,"</p>\n"),e=e.replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1"),e=e.replace(/^\s+/,""),e=e.replace(/[\s\u00a0]+$/,""),r&&(e=e.replace(/<wp-line-break>/g,"\n")),a&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),p.length&&(e=e.replace(/<wp-preserve>/g,function(){return p.shift()})),e):""}function p(e){var t=!1,n=!1,i="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";return-1===(e=e.replace(/\r\n|\r/g,"\n")).indexOf("\n")?e:(-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/\n+/g,"")})),-1===(e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/g," ")})).indexOf("<pre")&&-1===e.indexOf("<script")||(t=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]*?<\/\1>/g,function(e){return e.replace(/\n/g,"<wp-line-break>")})),-1!==e.indexOf("<figcaption")&&(e=(e=e.replace(/\s*(<figcaption[^>]*>)/g,"$1")).replace(/<\/figcaption>\s*/g,"</figcaption>")),-1!==e.indexOf("[caption")&&(n=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>"),(e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/," ")})).replace(/\s*\n\s*/g,"<wp-temp-br />")})),e+="\n\n",e=e.replace(/<br \/>\s*<br \/>/gi,"\n\n"),e=e.replace(new RegExp("(<(?:"+i+")(?: [^>]*)?>)","gi"),"\n\n$1"),e=e.replace(new RegExp("(</(?:"+i+")>)","gi"),"$1\n\n"),e=e.replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n"),e=e.replace(/\s*<option/gi,"<option"),e=e.replace(/<\/option>\s*/gi,"</option>"),e=e.replace(/\n\s*\n+/g,"\n\n"),e=e.replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n"),e=e.replace(/<p>\s*?<\/p>/gi,""),e=e.replace(new RegExp("<p>\\s*(</?(?:"+i+")(?: [^>]*)?>)\\s*</p>","gi"),"$1"),e=e.replace(/<p>(<li.+?)<\/p>/gi,"$1"),e=e.replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>"),e=e.replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>"),e=e.replace(new RegExp("<p>\\s*(</?(?:"+i+")(?: [^>]*)?>)","gi"),"$1"),e=e.replace(new RegExp("(</?(?:"+i+")(?: [^>]*)?>)\\s*</p>","gi"),"$1"),e=e.replace(/(<br[^>]*>)\s*\n/gi,"$1"),e=e.replace(/\s*\n/g,"<br />\n"),e=e.replace(new RegExp("(</?(?:"+i+")[^>]*>)\\s*<br />","gi"),"$1"),e=e.replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1"),e=e.replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]"),e=e.replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,n){return n.match(/<p( [^>]*)?>/)?e:t+"<p>"+n+"</p>"}),t&&(e=e.replace(/<wp-line-break>/g,"\n")),n&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e)}function c(t){var n={o:s,data:t,unfiltered:t};return e&&e("body").trigger("beforePreWpautop",[n]),n.data=a(n.data),e&&e("body").trigger("afterPreWpautop",[n]),n.data}function o(t){var n={o:s,data:t,unfiltered:t};return e&&e("body").trigger("beforeWpautop",[n]),n.data=p(n.data),e&&e("body").trigger("afterWpautop",[n]),n.data}var d,l,s={};return e?e(document).ready(n):document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):window.attachEvent&&(window.attachEvent("onload",n),document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()})),t.editor.autop=o,t.editor.removep=c,s={go:r,wpautop:o,pre_wpautop:c,_wp_Autop:p,_wp_Nop:a}},t.editor.initialize=function(n,i){var r,a;if(e&&n&&t.editor.getDefaultSettings){if(a=t.editor.getDefaultSettings(),i||(i={tinymce:!0}),i.tinymce&&i.quicktags){var p=e("#"+n),c=e("<div>").attr({class:"wp-core-ui wp-editor-wrap tmce-active",id:"wp-"+n+"-wrap"}),o=e('<div class="wp-editor-container">'),d=e("<button>").attr({type:"button","data-wp-editor-id":n});c.append(e('<div class="wp-editor-tools">').append(e('<div class="wp-editor-tabs">').append(d.clone().attr({id:n+"-tmce",class:"wp-switch-editor switch-tmce"}).text(window.tinymce.translate("Visual"))).append(d.attr({id:n+"-html",class:"wp-switch-editor switch-html"}).text(window.tinymce.translate("Text")))).append(o)),p.after(c),o.append(p)}window.tinymce&&i.tinymce&&("object"!=typeof i.tinymce&&(i.tinymce={}),(r=e.extend({},a.tinymce,i.tinymce)).selector="#"+n,e(document).trigger("wp-before-tinymce-init",r),window.tinymce.init(r),window.wpActiveEditor||(window.wpActiveEditor=n)),window.quicktags&&i.quicktags&&("object"!=typeof i.quicktags&&(i.quicktags={}),(r=e.extend({},a.quicktags,i.quicktags)).id=n,e(document).trigger("wp-before-quicktags-init",r),window.quicktags(r),window.wpActiveEditor||(window.wpActiveEditor=r.id))}},t.editor.remove=function(t){var n,i,r=e("#wp-"+t+"-wrap");window.tinymce&&(n=window.tinymce.get(t))&&(n.isHidden()||n.save(),n.remove()),window.quicktags&&(i=window.QTags.getInstance(t))&&i.remove(),r.length&&(r.after(e("#"+t)),r.remove())},t.editor.getContent=function(t){var n;if(e&&t)return window.tinymce&&(n=window.tinymce.get(t))&&!n.isHidden()&&n.save(),e("#"+t).val()}}(window.jQuery,window.wp);