!function(e,t,i,n){function a(e,i){if(void 0!==i){var n=t.createElement("input");n.name=e,n.value=i,n.type="hidden",u.appendChild(n)}}var l,o,r,s,m,g,h,c,d,b=e.encodeURIComponent,u=t.createElement("form"),p=t.getElementsByTagName("head")[0],f="_press_this_app",y=!0;if(n)if(i.match(/^https?:/))if(n+="&u="+b(i),i.match(/^https:/)&&n.match(/^http:/)&&(y=!1),e.getSelection?r=e.getSelection()+"":t.getSelection?r=t.getSelection()+"":t.selection&&(r=t.selection.createRange().text||""),n+="&buster="+(new Date).getTime(),y||(t.title&&(n+="&t="+b(t.title.substr(0,256))),r&&(n+="&s="+b(r.substr(0,512)))),l=e.outerWidth||t.documentElement.clientWidth||600,o=e.outerHeight||t.documentElement.clientHeight||700,l=l<800||l>5e3?600:.7*l,o=o<800||o>3e3?700:.9*o,y){s=p.getElementsByTagName("meta")||[];for(var v=0;v<s.length&&!(v>200);v++){var E=s[v],w=E.getAttribute("name"),A=E.getAttribute("property"),_=E.getAttribute("content");_&&(w?a("_meta["+w+"]",_):A&&a("_meta["+A+"]",_))}m=p.getElementsByTagName("link")||[];for(var B=0;B<m.length&&!(B>=50);B++){var N=m[B],T=N.getAttribute("rel");"canonical"!==T&&"icon"!==T&&"shortlink"!==T||a("_links["+T+"]",N.getAttribute("href"))}t.body.getElementsByClassName&&(g=t.body.getElementsByClassName("hfeed")[0]),h=(g=t.getElementById("content")||g||t.body).getElementsByTagName("img")||[];for(var C=0;C<h.length&&!(C>=100);C++)(d=h[C]).src.indexOf("avatar")>-1||d.className.indexOf("avatar")>-1||d.width&&d.width<256||d.height&&d.height<128||a("_images[]",d.src);c=t.body.getElementsByTagName("iframe")||[];for(var S=0;S<c.length&&!(S>=50);S++)a("_embeds[]",c[S].src);t.title&&a("t",t.title),r&&a("s",r),u.setAttribute("method","POST"),u.setAttribute("action",n),u.setAttribute("target",f),u.setAttribute("style","display: none;"),e.open("about:blank",f,"location,resizable,scrollbars,width="+l+",height="+o),t.body.appendChild(u),u.submit()}else e.open(n,f,"location,resizable,scrollbars,width="+l+",height="+o);else top.location.href=n}(window,document,top.location.href,window.pt_url);