!function(){var e={},t=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},n=function(t){var i=e[t];if(void 0===i)throw"module ["+t+"] was undefined";return void 0===i.instance&&function(t){for(var i=e[t],o=i.deps,r=i.defn,s=o.length,l=new Array(s),a=0;a<s;++a)l[a]=n(o[a]);var c=r.apply(null,l);if(void 0===c)throw"module ["+t+"] returned undefined";i.instance=c}(t),i.instance},i=function(e,t){for(var i=e.length,o=new Array(i),r=0;r<i;++r)o.push(n(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:t,require:i,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.lists.core.NodeType",[],function(){var e=function(e){return e&&"BR"===e.nodeName};return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isBr:e,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBogusBr:function(t,n){return!!e(n)&&!(!t.isBlock(n.nextSibling)||e(n.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),o("tinymce.core.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.RangeUtils")}),o("tinymce.plugins.lists.core.Range",["tinymce.core.dom.RangeUtils","tinymce.plugins.lists.core.NodeType"],function(e,t){var n=function(n,i){var o=e.getNode(n,i);if(t.isListItemNode(n)&&t.isTextNode(o)){return{container:o,offset:i>=n.childNodes.length?o.data.length:0}}return{container:n,offset:i}};return{getNormalizedEndPoint:n,normalizeRange:function(e){var t=e.cloneRange(),i=n(e.startContainer,e.startOffset);t.setStart(i.container,i.offset);var o=n(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t}}}),o("tinymce.plugins.lists.core.Bookmark",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Range"],function(e,t,n){var i=e.DOM;return{createBookmark:function(e){var t={},n=function(n){var o,r,s;r=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],1===r.nodeType&&(o=i.create("span",{"data-mce-type":"bookmark"}),r.hasChildNodes()?(s=Math.min(s,r.childNodes.length-1),n?r.insertBefore(o,r.childNodes[s]):i.insertAfter(o,r.childNodes[s])):r.appendChild(o),r=o,s=0),t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=s};return n(!0),e.collapsed||n(),t},resolveBookmark:function(e){function t(t){var n,o,r;n=r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,i.remove(r)),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o)}t(!0),t();var o=i.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),n.normalizeRange(o)}}}),o("tinymce.plugins.lists.core.Selection",["tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(e,t){return{getSelectedListItems:function(n){return e.grep(n.selection.getSelectedBlocks(),function(e){return t.isListItemNode(e)})}}}),o("tinymce.plugins.lists.actions.Indent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Selection"],function(e,t,n,i){var o=e.DOM,r=function(e,t){var i;if(n.isListNode(e)){for(;i=e.firstChild;)t.appendChild(i);o.remove(e)}},s=function(e){var t,i,s;return"DT"===e.nodeName?(o.rename(e,"DD"),!0):(t=e.previousSibling)&&n.isListNode(t)?(t.appendChild(e),!0):t&&"LI"===t.nodeName&&n.isListNode(t.lastChild)?(t.lastChild.appendChild(e),r(e.lastChild,t.lastChild),!0):(t=e.nextSibling)&&n.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):!(!(t=e.previousSibling)||"LI"!==t.nodeName||(i=o.create(e.parentNode.nodeName),(s=o.getStyle(e.parentNode,"listStyleType"))&&o.setStyle(i,"listStyleType",s),t.appendChild(i),i.appendChild(e),r(e.lastChild,i),0))};return{indentSelection:function(e){var n=i.getSelectedListItems(e);if(n.length){for(var o=t.createBookmark(e.selection.getRng(!0)),r=0;r<n.length&&(s(n[r])||0!==r);r++);return e.selection.setRng(t.resolveBookmark(o)),e.nodeChanged(),!0}}}}),o("tinymce.plugins.lists.core.NormalizeLists",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(e,t,n){var i=e.DOM,o=function(e,t){var o,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((o=r.previousSibling)&&"LI"===o.nodeName?(o.appendChild(t),n.isEmpty(e,r)&&i.remove(r)):i.setStyle(r,"listStyleType","none")),n.isListNode(r)&&(o=r.previousSibling)&&"LI"===o.nodeName&&o.appendChild(t)};return{normalizeList:o,normalizeLists:function(e,n){t.each(t.grep(e.select("ol,ul",n)),function(t){o(e,t)})}}}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.lists.core.TextBlock",["tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(e,t){var n=e.DOM;return{createNewTextBlock:function(e,i,o){var r,s,l,a=n.createFragment(),c=e.schema.getBlockElements();if(e.settings.forced_root_block&&(o=o||e.settings.forced_root_block),o&&((s=n.create(o)).tagName===e.settings.forced_root_block&&n.setAttribs(s,e.settings.forced_root_block_attrs),a.appendChild(s)),i)for(;r=i.firstChild;){var d=r.nodeName;l||"SPAN"===d&&"bookmark"===r.getAttribute("data-mce-type")||(l=!0),c[d]?(a.appendChild(r),s=null):o?(s||(s=n.create(o),a.appendChild(s)),s.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?l||t.ie&&!(t.ie>10)||s.appendChild(n.create("br",{"data-mce-bogus":"1"})):a.appendChild(n.create("br")),a}}}),o("tinymce.plugins.lists.core.SplitList",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.TextBlock","tinymce.core.util.Tools"],function(e,t,n,i){var o=e.DOM;return{splitList:function(e,r,s,l){var a,c,d,u;for(d=o.select('span[data-mce-type="bookmark"]',r),l=l||n.createNewTextBlock(e,s),(a=o.createRng()).setStartAfter(s),a.setEndAfter(r),u=(c=a.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){o.remove(u);break}e.dom.isEmpty(c)||o.insertAfter(c,r),o.insertAfter(l,r),t.isEmpty(e.dom,s.parentNode)&&function(e){i.each(d,function(t){e.parentNode.insertBefore(t,s.parentNode)}),o.remove(e)}(s.parentNode),o.remove(s),t.isEmpty(e.dom,r)&&o.remove(r)}}}),o("tinymce.plugins.lists.actions.Outdent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList","tinymce.plugins.lists.core.TextBlock"],function(e,t,n,i,o,r,s){var l=e.DOM,a=function(e,t){n.isEmpty(e,t)&&l.remove(t)},c=function(e,t){var o,c=t.parentNode,d=c.parentNode;return c===e.getBody()||("DD"===t.nodeName?(l.rename(t,"DT"),!0):n.isFirstChild(t)&&n.isLastChild(t)?("LI"===d.nodeName?(l.insertAfter(t,d),a(e.dom,d),l.remove(c)):n.isListNode(d)?l.remove(c,!0):(d.insertBefore(s.createNewTextBlock(e,t),c),l.remove(c)),!0):n.isFirstChild(t)?("LI"===d.nodeName?(l.insertAfter(t,d),t.appendChild(c),a(e.dom,d)):n.isListNode(d)?d.insertBefore(t,c):(d.insertBefore(s.createNewTextBlock(e,t),c),l.remove(t)),!0):n.isLastChild(t)?("LI"===d.nodeName?l.insertAfter(t,d):n.isListNode(d)?l.insertAfter(t,c):(l.insertAfter(s.createNewTextBlock(e,t),c),l.remove(t)),!0):("LI"===d.nodeName?(c=d,o=s.createNewTextBlock(e,t,"LI")):o=n.isListNode(d)?s.createNewTextBlock(e,t,"LI"):s.createNewTextBlock(e,t),r.splitList(e,c,t,o),i.normalizeLists(e.dom,c.parentNode),!0))};return{outdent:c,outdentSelection:function(e){var n=o.getSelectedListItems(e);if(n.length){var i,r,s=t.createBookmark(e.selection.getRng(!0)),l=e.getBody();for(i=n.length;i--;)for(var a=n[i].parentNode;a&&a!==l;){for(r=n.length;r--;)if(n[r]===a){n.splice(i,1);break}a=a.parentNode}for(i=0;i<n.length&&(c(e,n[i])||0!==i);i++);return e.selection.setRng(t.resolveBookmark(s)),e.nodeChanged(),!0}}}}),o("tinymce.core.dom.BookmarkManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.BookmarkManager")}),o("tinymce.plugins.lists.actions.ToggleList",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList"],function(e,t,n,i,o,r,s,l){var a=function(e,n){t.each(n,function(t,n){e.setAttribute(n,t)})},c=function(e,n,i){!function(e,t,n){var i=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",i)}(e,n,i),function(e,n,i){a(n,i["list-attributes"]),t.each(e.select("li",n),function(e){a(e,i["list-item-attributes"])})}(e,n,i)},d=function(e,t,n){var i,r,s=e.getBody();for(i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i);i.parentNode!==s;){if(o.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},u=function(e){var a=i.createBookmark(e.selection.getRng(!0)),c=e.getBody(),d=s.getSelectedListItems(e),u=t.grep(d,function(t){return e.dom.isEmpty(t)});d=t.grep(d,function(t){return!e.dom.isEmpty(t)}),t.each(u,function(t){o.isEmpty(e.dom,t)&&n.outdent(e,t)}),t.each(d,function(t){var n,i;if(t.parentNode!==e.getBody()){for(n=t;n&&n!==c;n=n.parentNode)o.isListNode(n)&&(i=n);l.splitList(e,i,t),r.normalizeLists(e.dom,i.parentNode)}}),e.selection.setRng(i.resolveBookmark(a))},m=function(e,t,n){return function(e,t){return e&&t&&o.isListNode(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&function(e,t){return e.className===t.className}(t,n)},f=function(e,t){var n,i;if(n=t.nextSibling,m(e,t,n)){for(;i=n.firstChild;)t.appendChild(i);e.remove(n)}if(n=t.previousSibling,m(e,t,n)){for(;i=n.lastChild;)t.insertBefore(i,t.firstChild);e.remove(n)}};return{toggleList:function(n,r,s){var l=n.dom.getParent(n.selection.getStart(),"OL,UL,DL");if(s=s||{},l!==n.getBody())if(l)if(l.nodeName===r)u(n);else{var a=i.createBookmark(n.selection.getRng(!0));c(n.dom,l,s),f(n.dom,n.dom.rename(l,r)),n.selection.setRng(i.resolveBookmark(a))}else!function(n,r,s){var l,a=n.selection.getRng(!0),u="LI",m=n.dom;s=s||{},"false"!==m.getContentEditable(n.selection.getNode())&&("DL"===(r=r.toUpperCase())&&(u="DT"),l=i.createBookmark(a),t.each(function(n,i){for(var r,s=[],l=n.getBody(),a=n.dom,c=d(n,i,!0),u=d(n,i,!1),m=[],f=c;f&&(m.push(f),f!==u);f=f.nextSibling);return t.each(m,function(t){if(o.isTextBlock(n,t))return s.push(t),void(r=null);if(a.isBlock(t)||o.isBr(t))return o.isBr(t)&&a.remove(t),void(r=null);var i=t.nextSibling;e.isBookmarkNode(t)&&(o.isTextBlock(n,i)||!i&&t.parentNode===l)?r=null:(r||(r=a.create("p"),t.parentNode.insertBefore(r,t),s.push(r)),r.appendChild(t))}),s}(n,a),function(e){var t,i;(i=e.previousSibling)&&o.isListNode(i)&&i.nodeName===r&&function(e){var t=m.getStyle(e,"list-style-type"),n=s?s["list-style-type"]:"";return n=null===n?"":n,t===n}(i)?(t=i,e=m.rename(e,u),i.appendChild(e)):(t=m.create(r),e.parentNode.insertBefore(t,e),t.appendChild(e),e=m.rename(e,u)),c(m,t,s),f(n.dom,t)}),n.selection.setRng(i.resolveBookmark(l)))}(n,r,s)},removeList:u,mergeWithAdjacentLists:f}}),o("tinymce.core.dom.TreeWalker",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.TreeWalker")}),o("tinymce.plugins.lists.core.Delete",["tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.util.VK","tinymce.plugins.lists.actions.ToggleList","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Range","tinymce.plugins.lists.core.Selection"],function(e,t,n,i,o,r,s,l,a){var c=function(n,i,o){var s,l,a=i.startContainer,c=i.startOffset;if(3===a.nodeType&&(o?c<a.data.length:c>0))return a;for(s=n.schema.getNonEmptyElements(),1===a.nodeType&&(a=e.getNode(a,c)),l=new t(a,n.getBody()),o&&r.isBogusBr(n.dom,a)&&l.next();a=l[o?"next":"prev2"]();){if("LI"===a.nodeName&&!a.hasChildNodes())return a;if(s[a.nodeName])return a;if(3===a.nodeType&&a.data.length>0)return a}},d=function(e,t,n){var i,o,s=t.parentNode;if(r.isChildOfBody(e,t)&&r.isChildOfBody(e,n)){if(r.isListNode(n.lastChild)&&(o=n.lastChild),s===n.lastChild&&r.isBr(s.previousSibling)&&e.remove(s.previousSibling),(i=n.lastChild)&&r.isBr(i)&&t.hasChildNodes()&&e.remove(i),r.isEmpty(e,n,!0)&&e.$(n).empty(),!r.isEmpty(e,t,!0))for(;i=t.firstChild;)n.appendChild(i);o&&n.appendChild(o),e.remove(t),r.isEmpty(e,s)&&s!==e.getRoot()&&e.remove(s)}},u=function(e,t){return e.selection.isCollapsed()?function(e,t){return function(e,t){var n,s,a,u=e.dom,m=e.selection,f=u.getParent(m.getStart(),"LI");if(f){if((n=f.parentNode)===e.getBody()&&r.isEmpty(u,n))return!0;if(s=l.normalizeRange(m.getRng(!0)),(a=u.getParent(c(e,s,t),"LI"))&&a!==f){var p=o.createBookmark(s);return t?d(u,a,f):d(u,f,a),e.selection.setRng(o.resolveBookmark(p)),!0}if(!a&&!t&&i.removeList(e,n.nodeName))return!0}return!1}(e,t)||function(e,t){var n=e.dom,o=n.getParent(e.selection.getStart(),n.isBlock);if(o&&n.isEmpty(o)){var r=l.normalizeRange(e.selection.getRng(!0)),s=n.getParent(c(e,r,t),"LI");if(s)return e.undoManager.transact(function(){n.remove(o),i.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1}(e,t)}(e,t):function(e){return!!(e.dom.getParent(e.selection.getStart(),"LI,DT,DD")||a.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),s.normalizeLists(e.dom,e.getBody())}),!0)}(e)};return{setup:function(e){e.on("keydown",function(t){t.keyCode===n.BACKSPACE?u(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&u(e,!0)&&t.preventDefault()})},backspaceDelete:u}}),o("tinymce.plugins.lists.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.lists.actions.Indent","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.actions.ToggleList","tinymce.plugins.lists.core.Delete","tinymce.plugins.lists.core.NodeType"],function(e,t,n,i,o,r,s,l){var a=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}};return e.add("lists",function(e){return function(e){var n=function(n){return function(){var i=this;e.on("NodeChange",function(e){var o=t.grep(e.parents,l.isListNode);i.active(o.length>0&&o[0].nodeName===n)})}};(function(e,n){var i=e.settings.plugins?e.settings.plugins:"";return-1!==t.inArray(i.split(/[ ,]/),n)})(e,"advlist")||(e.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:n("OL")}),e.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:n("UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(t){var n=t.control;e.on("nodechange",function(){for(var t=e.selection.getSelectedBlocks(),i=!1,o=0,r=t.length;!i&&o<r;o++){var s=t[o].nodeName;i="LI"===s&&l.isFirstChild(t[o])||"UL"===s||"OL"===s||"DD"===s}n.disabled(i)})}})}(e),s.setup(e),e.on("init",function(){!function(e){e.on("BeforeExecCommand",function(t){var n,r=t.command.toLowerCase();if("indent"===r?i.indentSelection(e)&&(n=!0):"outdent"===r&&o.outdentSelection(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0}),e.addCommand("InsertUnorderedList",function(t,n){r.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){r.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){r.toggleList(e,"DL",n)})}(e),function(e){e.addQueryStateHandler("InsertUnorderedList",a(e,"UL")),e.addQueryStateHandler("InsertOrderedList",a(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",a(e,"DL"))}(e),e.getParam("lists_indent_on_tab",!0)&&function(e){e.on("keydown",function(t){9!==t.keyCode||n.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?o.outdentSelection(e):i.indentSelection(e))})}(e)}),{backspaceDelete:function(t){s.backspaceDelete(e,t)}}}),function(){}}),n("tinymce.plugins.lists.Plugin")()}();